# Params:
# - votes: The data about votes, by district, in sejm_el_results format.
# - seats: The data about districts, in the district_data format.

INPUT TABLE votes, seats;
TRANSFORM seats WITH id AS sid, seats AS seats;
TRANSFORM votes WITH district AS vid, valid_votes_total AS votes;
JOIN seats INTO votes ON sid EQ vid AS jtable;
TRANSFORM jtable WITH sid AS id, votes / (1000 * seats) AS strength;
VISUALIZE jtable TO "vote_strength.bmp" WITH BASE "district_647_700"
                 WITH COLOURS "greentored9" WITH DATA strength WITH LEGEND
                 WITH HEADER "Obliczenia i opracowanie mapy\nMałgorzata i Jakub Wojtaszczyk" 
                 WITH TITLE "Liczba głosujących (w tys.)\nna jednego posła w okregu";
